{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Adrian\\\\Desktop\\\\THE PROJECTS\\\\OCR Online\\\\ocr\\\\src\\\\Components\\\\DropzoneContainer.js\",\n    _s = $RefreshSig$();\n\nimport Dropzone from 'react-dropzone';\nimport React, { useCallback } from 'react';\nimport { Container, Image } from 'react-bootstrap';\nimport UploadImage from '../Images/upload.png';\nimport { computerVision } from '../Service/service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction api(arrayBuffer) {\n  // Replace the subscriptionKey string value with your valid subscription key.\n  var subscriptionKey = \"231ffed796a44ee1b3cae51827505a99\";\n  var uriBase = \"https://germanywestcentral.api.cognitive.microsoft.com/vision/v1.0/RecognizeText\";\n  var params = {\n    \"handwriting\": \"true\"\n  };\n  $.ajax({\n    url: uriBase + \"?\" + $.param(params),\n    beforeSend: function (jqXHR) {\n      jqXHR.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n      jqXHR.setRequestHeader(\"Ocp-Apim-Subscription-Key\", subscriptionKey);\n    },\n    type: \"POST\",\n    processData: false,\n    data: arrayBuffer\n  }).done(function (data, textStatus, jqXHR) {\n    // Show progress.\n    console.log(data);\n    setTimeout(function () {\n      // The \"Operation-Location\" in the response contains the URI to retrieve the recognized text.\n      var operationLocation = jqXHR.getResponseHeader(\"Operation-Location\");\n      $.ajax({\n        url: operationLocation,\n        beforeSend: function (jqXHR) {\n          jqXHR.setRequestHeader(\"Content-Type\", \"application/json\");\n          jqXHR.setRequestHeader(\"Ocp-Apim-Subscription-Key\", subscriptionKey);\n        },\n        type: \"GET\"\n      }).done(function (data) {\n        // Show formatted JSON on webpage.\n        console.log(data);\n      }).fail(function (jqXHR, textStatus, errorThrown) {\n        // Display error message.\n        var errorString = errorThrown === \"\" ? \"Error. \" : errorThrown + \" (\" + jqXHR.status + \"): \";\n        errorString += jqXHR.responseText === \"\" ? \"\" : jQuery.parseJSON(jqXHR.responseText).message ? jQuery.parseJSON(jqXHR.responseText).message : jQuery.parseJSON(jqXHR.responseText).error.message;\n        alert(errorString);\n      });\n    }, 10000);\n  }).fail(function (jqXHR, textStatus, errorThrown) {\n    // Put the JSON description into the text area.\n    $(\"#responseTextArea\").val(JSON.stringify(jqXHR, null, 2)); // Display error message.\n\n    var errorString = errorThrown === \"\" ? \"Error. \" : errorThrown + \" (\" + jqXHR.status + \"): \";\n    errorString += jqXHR.responseText === \"\" ? \"\" : jQuery.parseJSON(jqXHR.responseText).message ? jQuery.parseJSON(jqXHR.responseText).message : jQuery.parseJSON(jqXHR.responseText).error.message;\n    alert(errorString);\n  });\n}\n\nexport default function DropzoneContainer({\n  setBuffer,\n  setResult\n}) {\n  _s();\n\n  const onDrop = useCallback(acceptedFiles => {\n    acceptedFiles.forEach(file => {\n      console.log(file);\n      const reader = new FileReader();\n\n      reader.onabort = () => console.log('file reading was aborted');\n\n      reader.onerror = () => console.log('file reading has failed');\n\n      reader.onload = () => {\n        // Do whatever you want with the file contents\n        console.log(reader);\n        const binaryStr = reader.result;\n        console.log(binaryStr);\n        setBuffer(binaryStr);\n        console.log(\"ceva?\");\n        api(binaryStr);\n      };\n\n      reader.readAsArrayBuffer(file);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    style: {\n      height: \"20rem\",\n      width: \"20rem\",\n      border: \"2px dotted white\",\n      padding: 20\n    },\n    children: /*#__PURE__*/_jsxDEV(Dropzone, {\n      onDrop: onDrop,\n      children: ({\n        getRootProps,\n        getInputProps\n      }) => /*#__PURE__*/_jsxDEV(\"section\", {\n        style: {\n          height: \"100%\",\n          width: \"100%\",\n          textAlign: \"center\",\n          border: \"2px solid white\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: \"100%\",\n            width: \"100%\",\n            position: \"relative\"\n          },\n          ...getRootProps(),\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            src: UploadImage,\n            style: {\n              width: 180,\n              height: 180\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            style: {\n              height: \"100%\",\n              width: \"100%\"\n            },\n            ...getInputProps()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              position: \"absolute\",\n              top: \"40%\"\n            },\n            children: \"Drag and drop the pdf or the picture here, or click to select the file\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 12\n  }, this);\n}\n\n_s(DropzoneContainer, \"jxJjeNCcTCma4EZ46I3/YMvQ3sw=\");\n\n_c = DropzoneContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"DropzoneContainer\");","map":{"version":3,"sources":["C:/Users/Adrian/Desktop/THE PROJECTS/OCR Online/ocr/src/Components/DropzoneContainer.js"],"names":["Dropzone","React","useCallback","Container","Image","UploadImage","computerVision","api","arrayBuffer","subscriptionKey","uriBase","params","$","ajax","url","param","beforeSend","jqXHR","setRequestHeader","type","processData","data","done","textStatus","console","log","setTimeout","operationLocation","getResponseHeader","fail","errorThrown","errorString","status","responseText","jQuery","parseJSON","message","error","alert","val","JSON","stringify","DropzoneContainer","setBuffer","setResult","onDrop","acceptedFiles","forEach","file","reader","FileReader","onabort","onerror","onload","binaryStr","result","readAsArrayBuffer","height","width","border","padding","getRootProps","getInputProps","textAlign","position","top"],"mappings":"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","sourcesContent":["import Dropzone from 'react-dropzone'\r\nimport React, {useCallback} from 'react'\r\nimport { Container,Image } from 'react-bootstrap'\r\nimport UploadImage from '../Images/upload.png'\r\nimport { computerVision } from '../Service/service'\r\nfunction api(arrayBuffer)\r\n{\r\n\r\n// Replace the subscriptionKey string value with your valid subscription key.\r\n  var subscriptionKey = \"231ffed796a44ee1b3cae51827505a99\";\r\n  var uriBase = \"https://germanywestcentral.api.cognitive.microsoft.com/vision/v1.0/RecognizeText\";\r\n\r\n  var params = {\r\n    \"handwriting\": \"true\",\r\n  };\r\n  $.ajax({\r\n    url: uriBase + \"?\" + $.param(params),\r\n\r\n    beforeSend: function(jqXHR) {\r\n      jqXHR.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\r\n      jqXHR.setRequestHeader(\"Ocp-Apim-Subscription-Key\", subscriptionKey);\r\n    },\r\n\r\n    type: \"POST\",\r\n    processData: false,\r\n    data: arrayBuffer\r\n  })\r\n\r\n  .done(function(data, textStatus, jqXHR) {\r\n    // Show progress.\r\n    console.log(data)\r\n    setTimeout(function() {\r\n      // The \"Operation-Location\" in the response contains the URI to retrieve the recognized text.\r\n      var operationLocation = jqXHR.getResponseHeader(\"Operation-Location\");\r\n\r\n      $.ajax({\r\n        url: operationLocation,\r\n        beforeSend: function(jqXHR) {\r\n          jqXHR.setRequestHeader(\"Content-Type\", \"application/json\");\r\n          jqXHR.setRequestHeader(\"Ocp-Apim-Subscription-Key\", subscriptionKey);\r\n        },\r\n        type: \"GET\",\r\n      })\r\n\r\n      .done(function(data) {\r\n        // Show formatted JSON on webpage.\r\n        console.log(data)\r\n      })\r\n\r\n      .fail(function(jqXHR, textStatus, errorThrown) {\r\n        // Display error message.\r\n        var errorString = (errorThrown === \"\") ? \"Error. \" : errorThrown + \" (\" + jqXHR.status + \"): \";\r\n        errorString += (jqXHR.responseText === \"\") ? \"\" : (jQuery.parseJSON(jqXHR.responseText).message) ?\r\n          jQuery.parseJSON(jqXHR.responseText).message : jQuery.parseJSON(jqXHR.responseText).error.message;\r\n        alert(errorString);\r\n      });\r\n    }, 10000);\r\n  })\r\n\r\n  .fail(function(jqXHR, textStatus, errorThrown) {\r\n    // Put the JSON description into the text area.\r\n    $(\"#responseTextArea\").val(JSON.stringify(jqXHR, null, 2));\r\n\r\n    // Display error message.\r\n    var errorString = (errorThrown === \"\") ? \"Error. \" : errorThrown + \" (\" + jqXHR.status + \"): \";\r\n    errorString += (jqXHR.responseText === \"\") ? \"\" : (jQuery.parseJSON(jqXHR.responseText).message) ?\r\n      jQuery.parseJSON(jqXHR.responseText).message : jQuery.parseJSON(jqXHR.responseText).error.message;\r\n    alert(errorString);\r\n  })\r\n\r\n}\r\nexport default function DropzoneContainer({setBuffer,setResult})\r\n{\r\n    const onDrop = useCallback((acceptedFiles) => {\r\n        acceptedFiles.forEach((file) => {\r\n          console.log(file)\r\n         \r\n          const reader = new FileReader()\r\n          \r\n        \r\n         \r\n          reader.onabort = () => console.log('file reading was aborted')\r\n          reader.onerror = () => console.log('file reading has failed')\r\n          reader.onload = () => {\r\n          // Do whatever you want with the file contents\r\n            console.log(reader)\r\n            const binaryStr = reader.result\r\n            console.log(binaryStr)\r\n            setBuffer(binaryStr)\r\n            console.log(\"ceva?\")\r\n            api(binaryStr)\r\n          }\r\n          reader.readAsArrayBuffer(file)\r\n        })\r\n        \r\n      }, [])\r\n\r\n\r\n    return <Container style={{height:\"20rem\",width:\"20rem\",border:\"2px dotted white\",padding:20}}>\r\n    <Dropzone onDrop={onDrop}>\r\n    {\r\n      ({getRootProps, getInputProps}) => (\r\n      <section style={{height:\"100%\",width:\"100%\",textAlign:\"center\",border:\"2px solid white\"}}>\r\n        <div style={{height:\"100%\",width:\"100%\",position:\"relative\"}} {...getRootProps()}>\r\n          <Image src={UploadImage} style={{width:180,height:180}}></Image> \r\n          <input  style={{height:\"100%\",width:\"100%\"}} {...getInputProps()} />\r\n          <p style={{position:\"absolute\",top:\"40%\"}}>Drag and drop the pdf or the picture here, or click to select the file</p>\r\n        </div>\r\n      </section>\r\n    )}\r\n    </Dropzone>\r\n    </Container>\r\n}"]},"metadata":{},"sourceType":"module"}