{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Adrian\\\\Desktop\\\\THE PROJECTS\\\\OCR Online\\\\ocr\\\\src\\\\Components\\\\DropzoneContainer.js\",\n    _s = $RefreshSig$();\n\nimport Dropzone from 'react-dropzone';\nimport React, { useCallback } from 'react';\nimport { Container, Image } from 'react-bootstrap';\nimport UploadImage from '../Images/upload.png';\nimport { computerVision } from '../Service/service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DropzoneContainer({\n  setBuffer,\n  setResult\n}) {\n  _s();\n\n  const onDrop = useCallback(acceptedFiles => {\n    acceptedFiles.forEach(file => {\n      console.log(file);\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      var blob = new Blob([file], {\n        type: \"application/pdf\"\n      });\n      var objectURL = window.URL.createObjectURL(blob);\n      console.log(objectURL);\n      computerVision(setResult, objectURL);\n\n      if (navigator.appVersion.toString().indexOf('.NET') > 0) {\n        window.navigator.msSaveOrOpenBlob(blob, 'myFileName.pdf');\n      } // reader.onabort = () => console.log('file reading was aborted')\n      // reader.onerror = () => console.log('file reading has failed')\n      // reader.onload = () => {\n      // // Do whatever you want with the file contents\n      //   console.log(reader)\n      //   const binaryStr = reader.result\n      //   console.log(binaryStr)\n      //   setBuffer(binaryStr)\n      //   console.log(\"ceva?\")\n      //   computerVision(setResult,binaryStr);\n      // }\n      // reader.readAsArrayBuffer(file)\n\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    style: {\n      height: \"20rem\",\n      width: \"20rem\",\n      border: \"2px dotted white\",\n      padding: 20\n    },\n    children: /*#__PURE__*/_jsxDEV(Dropzone, {\n      onDrop: onDrop,\n      children: ({\n        getRootProps,\n        getInputProps\n      }) => /*#__PURE__*/_jsxDEV(\"section\", {\n        style: {\n          height: \"100%\",\n          width: \"100%\",\n          textAlign: \"center\",\n          border: \"2px solid white\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: \"100%\",\n            width: \"100%\",\n            position: \"relative\"\n          },\n          ...getRootProps(),\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            src: UploadImage,\n            style: {\n              width: 180,\n              height: 180\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            style: {\n              height: \"100%\",\n              width: \"100%\"\n            },\n            ...getInputProps()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              position: \"absolute\",\n              top: \"40%\"\n            },\n            children: \"Drag and drop the pdf or the picture here, or click to select the file\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 12\n  }, this);\n}\n\n_s(DropzoneContainer, \"jxJjeNCcTCma4EZ46I3/YMvQ3sw=\");\n\n_c = DropzoneContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"DropzoneContainer\");","map":{"version":3,"sources":["C:/Users/Adrian/Desktop/THE PROJECTS/OCR Online/ocr/src/Components/DropzoneContainer.js"],"names":["Dropzone","React","useCallback","Container","Image","UploadImage","computerVision","DropzoneContainer","setBuffer","setResult","onDrop","acceptedFiles","forEach","file","console","log","reader","FileReader","readAsDataURL","blob","Blob","type","objectURL","window","URL","createObjectURL","navigator","appVersion","toString","indexOf","msSaveOrOpenBlob","height","width","border","padding","getRootProps","getInputProps","textAlign","position","top"],"mappings":"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","sourcesContent":["import Dropzone from 'react-dropzone'\r\nimport React, {useCallback} from 'react'\r\nimport { Container,Image } from 'react-bootstrap'\r\nimport UploadImage from '../Images/upload.png'\r\nimport { computerVision } from '../Service/service'\r\nexport default function DropzoneContainer({setBuffer,setResult})\r\n{\r\n    const onDrop = useCallback((acceptedFiles) => {\r\n        acceptedFiles.forEach((file) => {\r\n          console.log(file)\r\n         \r\n          const reader = new FileReader()\r\n          \r\n          reader.readAsDataURL(file);\r\n\r\n          var blob = new Blob([file], { type: \"application/pdf\" });\r\n\r\n          var objectURL = window.URL.createObjectURL(blob);\r\n          console.log(objectURL);\r\n          computerVision(setResult,objectURL);\r\n          \r\n         if (navigator.appVersion.toString().indexOf('.NET') > 0) {\r\n          window.navigator.msSaveOrOpenBlob(blob, 'myFileName.pdf');\r\n         }\r\n          // reader.onabort = () => console.log('file reading was aborted')\r\n          // reader.onerror = () => console.log('file reading has failed')\r\n          // reader.onload = () => {\r\n          // // Do whatever you want with the file contents\r\n          //   console.log(reader)\r\n          //   const binaryStr = reader.result\r\n          //   console.log(binaryStr)\r\n          //   setBuffer(binaryStr)\r\n          //   console.log(\"ceva?\")\r\n          //   computerVision(setResult,binaryStr);\r\n          // }\r\n          // reader.readAsArrayBuffer(file)\r\n        })\r\n        \r\n      }, [])\r\n\r\n\r\n    return <Container style={{height:\"20rem\",width:\"20rem\",border:\"2px dotted white\",padding:20}}>\r\n    <Dropzone onDrop={onDrop}>\r\n    {\r\n      ({getRootProps, getInputProps}) => (\r\n      <section style={{height:\"100%\",width:\"100%\",textAlign:\"center\",border:\"2px solid white\"}}>\r\n        <div style={{height:\"100%\",width:\"100%\",position:\"relative\"}} {...getRootProps()}>\r\n          <Image src={UploadImage} style={{width:180,height:180}}></Image> \r\n          <input  style={{height:\"100%\",width:\"100%\"}} {...getInputProps()} />\r\n          <p style={{position:\"absolute\",top:\"40%\"}}>Drag and drop the pdf or the picture here, or click to select the file</p>\r\n        </div>\r\n      </section>\r\n    )}\r\n    </Dropzone>\r\n    </Container>\r\n}"]},"metadata":{},"sourceType":"module"}